{"version":3,"sources":["../../src/api/regions.js"],"names":["express","require","router","Router","Holidays","get","req","res","hd","contries","getCountries","send","JSON","stringify","country","params","status","states","getStates","state","getRegions"],"mappings":";;;;;;AAIA;;AACA;;AALA;AACA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,SAASF,QAAQG,MAAR,EAAb;AACA,MAAMC,WAAWH,QAAQ,eAAR,CAAjB;;;AAIAC,OAAOG,GAAP,CAAW,YAAX,EAAyB,CAACC,GAAD,EAAMC,GAAN,KAAc;AACnC,QAAIC,KAAK,IAAIJ,QAAJ,EAAT;AACA,UAAMK,WAAWD,GAAGE,YAAH,EAAjB;AACAH,QAAII,IAAJ,CAASC,KAAKC,SAAL,CAAeJ,QAAf,CAAT;AACH,CAJD;;AAMAP,OAAOG,GAAP,CAAW,4BAAX,EAAyC,CAACC,GAAD,EAAMC,GAAN,KAAc;AACnD,UAAM,EAACO,OAAD,KAAYR,IAAIS,MAAtB;AACA,QAAI,uCAAkB,CAACD,OAAD,CAAlB,CAAJ,EAAkC;AAC9BP,YAAIS,MAAJ,CAAW,GAAX,EACKL,IADL,CACU,WADV;AAEH;AACD,QAAIH,KAAK,IAAIJ,QAAJ,EAAT;AACA,UAAMa,SAAST,GAAGU,SAAH,CAAaJ,OAAb,CAAf;AACA,QAAI,6BAAkBG,MAAlB,CAAJ,EAA+B;AAC3BV,YAAIS,MAAJ,CAAW,GAAX,EACKL,IADL,CACU,4BADV;AAEH;AACDJ,QAAII,IAAJ,CAASC,KAAKC,SAAL,CAAeI,MAAf,CAAT;AACH,CAbD;;AAeAf,OAAOG,GAAP,CAAW,2CAAX,EAAwD,CAACC,GAAD,EAAMC,GAAN,KAAc;AAClE,UAAM,EAACO,OAAD,EAAUK,KAAV,KAAmBb,IAAIS,MAA7B;;AAEA;AACA,QAAI,uCAAkB,CAACD,OAAD,EAAUK,KAAV,CAAlB,CAAJ,EAAyC;AACrCZ,YAAIS,MAAJ,CAAW,GAAX,EACKL,IADL,CACU,WADV;AAEH;AACD,QAAIH,KAAK,IAAIJ,QAAJ,EAAT;AACA,UAAMa,SAAST,GAAGY,UAAH,CAAcN,OAAd,EAAuBK,KAAvB,CAAf;AACA,QAAI,6BAAkBF,MAAlB,CAAJ,EAA+B;AAC3BV,YAAIS,MAAJ,CAAW,GAAX,EACKL,IADL,CACU,4BADV;AAEH;AACDJ,QAAII,IAAJ,CAASC,KAAKC,SAAL,CAAeI,MAAf,CAAT;AACH,CAfD;;kBAkBef,M","file":"regions.js","sourcesContent":["///countries get list of countries\nvar express = require('express')\nvar router = express.Router();\nconst Holidays = require('date-holidays')\nimport {areRequiredParams} from \"../utils/required-params\";\nimport {isNullOrUndefined} from 'util';\n\nrouter.get('/countries', (req, res) => {\n    var hd = new Holidays();\n    const contries = hd.getCountries();\n    res.send(JSON.stringify(contries));\n});\n\nrouter.get('/countries/:country/states', (req, res) => {\n    const {country} = req.params;\n    if (areRequiredParams([country])) {\n        res.status(404)\n            .send('not found')\n    }\n    var hd = new Holidays();\n    const states = hd.getStates(country);\n    if (isNullOrUndefined(states)) {\n        res.status(404)\n            .send('no states for this country')\n    }\n    res.send(JSON.stringify(states));\n});\n\nrouter.get('/countries/:country/states/:state/regions', (req, res) => {\n    const {country, state} = req.params;\n\n    // check if all required params are defined\n    if (areRequiredParams([country, state])) {\n        res.status(404)\n            .send('not found')\n    }\n    var hd = new Holidays();\n    const states = hd.getRegions(country, state);\n    if (isNullOrUndefined(states)) {\n        res.status(404)\n            .send('no states for this country')\n    }\n    res.send(JSON.stringify(states));\n});\n\n\nexport default router;\n"]}